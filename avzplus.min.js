var AvanzaPlus=function(){function t(){}var e={};return t.prototype.round=function(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)},t.prototype.randomNum=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.prototype.getValueTable=function(t){return $("caption h2").filter(function(){var e=$(this).text().toLowerCase(),o=t.toLowerCase();return e===o}).eq(0).closest("table")},t.prototype.toCommaDecimal=function(t){return t.toString().replace(".",",")},t.prototype.cleanParsedNum=function(t){return"number"==typeof t?t:parseFloat(t.replace(/\s/g,"").replace(/,/g,"."),10)},t.prototype.getRandomColor=function(){var t=["#577AA6","#009640","#FDC55A"];return t[this.randomNum(0,t.length-1)]},t.prototype.onPageLoad=function(t,e){new RegExp(t).test(location.pathname)&&(window.onload=e.bind(this))},t.prototype.experimental=function(t,o){if(void 0===o){if("function"!=typeof e[t])throw new Error("No feature with that name.");e[t].call(this)}else e[t]=o},new t}();AvanzaPlus.onPageLoad("/mina-sidor/kontooversikt.([0-9]{7}).*",function(){var t=this,e=function(e,o){var n=$.trim(e.find("caption .allocation").text().split(":")[1]),a='<th data-sorter="commaDigit"><a href="javascript:void(0);" class="noWrap">Andel %</a></th>',r="<td>"+n+"</td>";$(a).insertAfter(e.find("th").eq(2)).css("width",30),$(r).insertAfter(e.find("tfoot td").eq(0)),e.find("tr.clientSortedRow").each(function(){var e=$(this),n=t.cleanParsedNum(e.find("> td").eq(8).text()),a=t.toCommaDecimal(t.round(n/o*100,2)),r="<td>"+a+"</td>";$(r).insertAfter(e.find("td").eq(2))})},o=function(e){var o=t.cleanParsedNum(e.find("tfoot td").eq(4).text()),n=t.cleanParsedNum(e.find("tfoot td").eq(2).text()),a=Math.round(100*(o-o/(n/100+1)))/100,r='<th class="tRight"><span class="noWrap">Avk. Idag</span></th>',i='<td class="tRight '+(a>0?"positive":0>a?"negative":"")+'">'+t.toCommaDecimal(a)+"</td>";console.log(a),$(r).insertAfter(e.find("th").eq(5)).css("width",40),$(i).insertAfter(e.find("tfoot td").eq(2)),e.find("tr.clientSortedRow").each(function(){var t=$(this),e="<td></td>";$(e).insertAfter(t.find("td").eq(5))})},n=function(t,e){t.find("th.tools").css("width",e)},a=this.cleanParsedNum($(".tableSummary").find(".value").text());e(this.getValueTable("aktier"),a),e(this.getValueTable("fonder"),a),o(this.getValueTable("aktier")),n(this.getValueTable("aktier"),50),$(".headerSortUp, .headerSortDown").trigger("click").trigger("click")});